<div ng-controller='settingCtrl'>
    <div class='form-horizontal'>
        <div class='form-group'>
            <label>名称<span>（最多35个汉字，70个英文字符）</span></label>
            <input type="text" class="form-control" ng-model='editing.title' tms-auto-update tms-wait=1000 tms-update="update('title')">
        </div>
        <div class='form-group'>
            <label>头图</label>
            <div class='heading-pic' heading-pic>
                <div class='empty' ng-if="!editing.pic">
                    <button class='btn btn-default' ng-click='chooseImage();'>
                        <span class='glyphicon glyphicon-picture'></span>选择图片</button>
                </div>
                <div class='pic' style='position:relative' ng-if="editing.pic">
                    <img name='pic' src='{{editing.pic}}'/>
                    <button class='btn btn-default btn-sm' style='position:absolute;top:-1px;left:-1px' ng-click='chooseImage();'>
                        <span class='glyphicon glyphicon-picture'></span>
                    </button>
                    <button class='btn btn-default btn-sm' style='position:absolute;top:-1px;right:-1px' ng-click='removePic();'>
                        <span class='glyphicon glyphicon-trash'></span>
                    </button>
                </div>
            </div>
        </div>
        <div class='form-group'>
            <label>介绍<span>（最多120个汉字，240个英文字符）</span></label>
            <textarea class='form-control' ng-model='editing.summary' tms-auto-update tms-wait=1000 tms-update="update('summary');" rows='3'></textarea>
        </div>
        <div class='form-group'>
            <label>接收登记通知页</label>
            <select class='form-control' ng-model='editing.receiver_page' ng-options='pname as page.title for (pname, page) in editing.pages'
            ng-change="update('receiver_page')">
                <option value=''></option>
            </select>
        </div>
        <div class='form-group'>
            <label>扩展功能</label>
            <label class='checkbox-inline'>
                <input type="checkbox" ng-true-value="'Y'" ng-false-value="'N'" ng-model='editing.remark_notice' ng-change="update('remark_notice');">登记评论提醒</label>
        </div>
        <div class='form-group' ng-if="editing.remark_notice==='Y'">
            <label>接收评论提醒页</label>
            <select class='form-control' ng-model='editing.remark_notice_page' ng-options='pname as page.title for (pname, page) in editing.pages'
            ng-change="update('remark_notice_page')">
                <option value=''></option>
            </select>
        </div>
    </div>
    <div id='pickImageFrom'>
        <div class='form-group'><button class='btn btn-default btn-lg btn-block' ng-click="chooseImage('camera')">拍照</button></div>
        <div class='form-group'><button class='btn btn-default btn-lg btn-block' ng-click="chooseImage('album')">相册</button></div>
    </div>
</div>