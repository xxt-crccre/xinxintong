<div ng-controller='tagCtrl'>
    <div class='form-group form-inline'>
        <select class='form-control' title='认证接口' ng-show='authapis' ng-model='selectedAuthapi' ng-options='a.name for a in authapis' ng-change="doSearch()"></select>
    </div>
    <div class='col-md-4' style='padding-left:0'>
        <div class='list-group'>
            <a style='min-height:43px' class='list-group-item' ng-class="{'active':t===editing}" ng-repeat='t in tags' ng-click='open(t)'>
                <span>{{t.name}}</span>
                <button class='btn btn-default btn-xs pull-right' ng-if='t===editing' ng-click="remove()">
                    <span class='glyphicon glyphicon-remove'></span>
                </button>
            </a>
            <a class='list-group-item'>
                <button class='btn btn-success btn-block' ng-click='add()'>添加</button>
            </a>
        </div>
    </div>
    <div class='col-md-8' ng-if='editing' style='padding-right:0'>
        <div class='form-group'>
            <label>名称</label>
            <input type='text' class='form-control' ng-model='editing.name'>
        </div>
        <div class='form-group text-right'>
            <button class='btn btn-success' ng-click='save()'>保存</button>
        </div>
        <table class='table table-bordered'>
            <thead>
                <tr>
                    <th>用户</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat='m in members'>
                    <td><a href='javascript:void(0)' userpopover xxt-fid='{{m.fid}}' ng-click='viewUser($event,m)'>{{m.name||m.nickname||m.mobile||m.email}}</a></td>
                </tr>
            </tbody>
        </table> 
        <div class='form-group form-inline'>
            <span style='height:34px;line-height:34px'>总数：{{page.total}}</span>
            <pagination style='margin:0;cursor:pointer' class='pull-right' ng-if='page.total>page.size' boundary-links="true" total-items="page.total" max-size="7" items-per-page="page.size" rotate="false" ng-model="page.at" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;" ng-change="searchMembers()"></pagination>
        </div>
    </div>
</div>
