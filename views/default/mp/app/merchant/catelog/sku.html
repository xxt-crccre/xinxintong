<div id='sku-view'>
	<div class='form-horizontal list-group-item' ng-repeat='s in skus'>
		<button class="btn btn-default" ng-click='removeSku($index, s)'><i class='fa fa-remove'></i></button>
		<div class='price form-group'>
			<label class='col-md-2 control-label'>名称</label>
			<div class='col-md-10'>
				<input class='form-control' ng-model='s.name' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'name')">
			</div>
		</div>
		<div class='feature form-group'>
			<label class='col-md-2 control-label'>特性</label>
			<div class='col-md-10'>
				<label class='checkbox-inline'><input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model="s.has_validity" ng-change="updateSku(s, 'has_validity')">包含有效期</label>
				<label class='checkbox-inline'><input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model="s.require_pay" ng-change="updateSku(s, 'require_pay')">需要支付</label>
				<label class='checkbox-inline'><input type='checkbox' ng-true-value="'Y'" ng-false-value="'N'" ng-model="s.can_autogen" ng-change="updateSku(s, 'can_autogen')">按需生成</label>
			</div>
		</div>
		<div class='autogen-rule form-group' ng-show="s.can_autogen==='Y'">
			<label class='col-md-2 control-label'>生成规则</label>
			<div class='col-md-10'>
				<div class='rule form-group'>
					<div class='input-group'>
						<p class='form-control' ng-bind='s.autogen_rule.crontab'></p>
						<span class='input-group-btn'>
							<button class='btn btn-default' ng-click='setCrontab(s)'><span class='glyphicon glyphicon-time'></span></button>
						</span>
					</div>
					<p class='help-block'>生成时间</p>
				</div>
				<div class='rule form-group'>
					<input class='form-control' ng-model='s.autogen_rule.count' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'autogen_rule')">
					<p class='help-block'>库存数量</p>
				</div>
				<div class='rule form-group'>
					<input class='form-control' ng-model='s.autogen_rule.duration' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'autogen_rule')">
					<p class='help-block'>时长，单位：分钟</p>
				</div>
				<div class='rule form-group'>
					<input class='form-control' ng-model='s.autogen_rule.price' tms-auto-update tms-wait=1000 tms-update="updateSku(s, 'autogen_rule')">
					<p class='help-block'>价格，单位：分</p>
				</div>
			</div>
		</div>
	</div>
	<button class='btn btn-default' ng-click='addSku()'><span class='glyphicon glyphicon-plus'>添加</span></button>
	<script type="text/ng-template" id="crontabEditor.html">
    <div class="modal-header">
        <button class="close" type="button" ng-click="close()">×</button>
        <h5 class="modal-title">指定规则</h5>
    </div>
	<div class="modal-body">
		<div class='form-group'>
			<input class='form-control' ng-model='data[0]'>
			<p class='help-block'>分钟1-59，每分钟用*或者*/1表示</p>
		</div>
		<div class='form-group'>
			<input class='form-control' ng-model='data[1]'>
			<p class='help-block'>小时1-23，0表示0点</p>
		</div>
		<div class='form-group'>
			<input disabled class='form-control' ng-model='data[2]'>
			<p class='help-block'>日期1-31</p>
		</div>
		<div class='form-group'>
			<input disabled class='form-control' ng-model='data[3]'>
			<p class='help-block'>月1-12</p>
		</div>
		<div class='form-group'>
			<input class='form-control' ng-model='data[4]'>
			<p class='help-block'>星期0-6，0表示星期天</p>
		</div>
	</div>
    <div class="modal-footer">
        <button class="btn btn-success" ng-click="ok()">保存</button>
    </div>
    </script>
</div>